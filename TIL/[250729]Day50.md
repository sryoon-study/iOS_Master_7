
내일배움캠프 iOS 마스터 Day 50

#내일배움캠프 #iOS #TIL #DTO #DAO
## 내일배움캠프 iOS 마스터 부트캠프 7기

## Day 50

### 주요 활동
- 데이터 모델링
- 검색화면 구현


### 주요 학습내용
## ✅ DTO와 DAO 개념 정리 

| 항목    | DTO (Data Transfer Object)                  | DAO (Data Access Object)                      |
| ----- | ------------------------------------------- | --------------------------------------------- |
| 역할    | **데이터를 전달/운반**하기 위한 객체                      | **데이터베이스와의 CRUD 통신을 담당**하는 객체                 |
| 사용 위치 | 계층 간 데이터 교환 (예: DB → Controller → View)     | DB 추상화 계층 (SQL or ORM)                        |
| 주 목적  | *단순화된 값 객체*로 네트워크 or DB에서 받은 데이터를 다른 계층에 전달 | *데이터 저장소*에 대한 구체적 로직을 분리하고 캡슐화                |
| 특징    | 일반적으로 로직 없음, 속성만 존재                         | DB 관련 코드 포함 (insert, fetch, update, delete 등) |
| 예시    | `UserDTO(id: 1, name: "Tom")`               | `UserDAO.insert(user: UserDTO)`               |

 과거 PHP/Laravel에서 사용했던 Eloquent ORM 모델이 DAO와 DTO를 묶어쓰는 역할
 `User::find(1)` 같은 코드는 DAO 기능이고, 결과로 받은 `User` 모델은 DTO로도 쓰임

---

iOS(Swift) 개발에서 DTO/DAO는 어떻게 사용하는가

1. **DTO (Codable 구조체)**

* 주로 **API Response/Request**와 1:1 매칭되는 구조체를 정의
* JSON 파싱을 위해 `Codable` 채택
* 예:

```swift
struct BookDTO: Codable {
    let title: String
    let authors: [String]
    let salePrice: Int
    // ... 기타 필드
}
```

* DTO는 **UI와는 무관하며**, 네트워크 계층에서만 사용

---

2. **DAO (CoreDataManager 등)**

* Swift에선 `CoreData` 또는 `Realm` 같은 DB 계층에서 **DAO 역할**을 수행하는 클래스를 별도로 구성
* 예:

```swift
class BookDAO {
    func save(_ dto: BookDTO) {
        // CoreData context에 저장
    }

    func fetchAll() -> [BookDTO] {
        // CoreData fetch → DTO로 변환
    }
}
```

> Swift에선 ORM 스타일이 강하지 않기 때문에 DAO 객체를 명시적으로 만들지 않는 경우도 있지만, **CoreDataManager** 같은 매니저 클래스를 통해 유사한 역할을 수행하는 패턴이 일반적.

---

## ✅ Swift 아키텍처 계층 구조 예시 (MVVM + Clean Architecture)

```text
🔽 네트워크 계층
├── BookDTO (Codable)
├── BookAPIClient (Alamofire/URLSession)
│
🔽 도메인 계층
├── Book (Domain 모델) ← DTO를 ViewModel로 가공할 때 여기로 변환
│
🔽 데이터 저장 계층
├── CoreDataBookEntity (NSManagedObject)
├── BookDAO (CoreData 접근용)
│
🔽 프리젠테이션 계층
├── BookViewModel (뷰에 최적화된 형태)
├── BookCell (View)
```

>  DTO → DomainModel → ViewModel 로 구조를 나누는 것이 확장성, 테스트, 유지보수에서 유리


### 7/30 예상일정
- 검색화면 구현


velog 주소    
