ì¢‹ìŠµë‹ˆë‹¤! ğŸ¯
ì§€ê¸ˆê¹Œì§€ í•™ìŠµí•˜ì‹  **RxSwift + ReactorKit ê¸°ë°˜ êµ¬ì¡° í•™ìŠµ ìš”ì•½**ì„ **ì •ë¦¬ìš© ë¬¸ì„œ í˜•íƒœ**ë¡œ ì•„ë˜ì— ì œê³µí•©ë‹ˆë‹¤.
ì´ ìš”ì•½ì€ **í•µì‹¬ ì›ë¦¬ + ì½”ë“œ êµ¬ì¡° + ì—­í•  ë¶„ë‹´ + ì˜ˆì‹œ íë¦„**ê¹Œì§€ í¬í•¨ë˜ì–´, ì´í›„ ê¸°ëŠ¥ êµ¬í˜„ ì‹œ ì°¸ê³  ìë£Œë¡œ í™œìš©í•˜ê¸°ì— ì í•©í•©ë‹ˆë‹¤.

---

# âœ… RxSwift + ReactorKit ê¸°ë°˜ êµ¬ì¡° í•™ìŠµ ì •ë¦¬

---

## ğŸ“¦ ì „ì²´ êµ¬ì¡° ê°œìš”

```plaintext
View (UI ì…ë ¥)
   â†“
Action (ì‚¬ìš©ì ì˜ë„)
   â†“
mutate(action:) â†’ Mutation (ë³€í™” ë‹¨ìœ„)
   â†“
reduce(state:mutation:) â†’ State (í™”ë©´ ìƒíƒœ)
   â†“
View (Stateì— ë”°ë¼ ìë™ ê°±ì‹ )
```

---

## 1ï¸âƒ£ BaseViewController\<R: Reactor>

| ëª©ì            | ì„¤ëª…                                                                |
| ------------ | ----------------------------------------------------------------- |
| ê³µí†µ êµ¬ì¡° ì œê³µ     | ëª¨ë“  VCì—ì„œ `bind(reactor:)`ì™€ `disposeBag` ì¬ì‚¬ìš©                        |
| View í”„ë¡œí† ì½œ ì¶©ì¡± | `reactor`, `bind(reactor:)` í¬í•¨                                    |
| ì‚¬ìš© ì˜ˆ         | `SearchListViewController: BaseViewController<SearchListReactor>` |

---

## 2ï¸âƒ£ BaseReactor\<Action, Mutation, State>

| ëª©ì                | ì„¤ëª…                                                |
| ---------------- | ------------------------------------------------- |
| ê³µí†µ Reactor êµ¬ì¡° ì œê³µ | `initialState`, `state`, `mutate`, `reduce` ê³µí†µ êµ¬í˜„ |
| ì¶”ìƒí™”              | `mutate`, `reduce`ëŠ” `fatalError()`ë¡œ í•˜ìœ„ êµ¬í˜„ ê°•ì œ      |
| ì¥ì                | ê³µí†µ ë¡œë”© ì²˜ë¦¬, ì—ëŸ¬ ì²˜ë¦¬ ë“± í™•ì¥ ê°€ëŠ¥                           |

---

## 3ï¸âƒ£ SearchListReactor ì˜ˆì‹œ

```swift
enum Action {
    case search(String)
}

enum Mutation {
    case setQuery(String)
}

struct State {
    var query: String = ""
}
```

* `mutate()` â†’ `Action.search("Rx")` â†’ `.setQuery("Rx")`
* `reduce()` â†’ ê¸°ì¡´ `state.query` ê°’ì„ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ë³€ê²½
* ìƒíƒœëŠ” `state: Observable<State>`ë¡œ ìë™ ë…¸ì¶œë¨ (BaseReactorê°€ êµ¬í˜„)

---

## 4ï¸âƒ£ bind(reactor:)ì˜ ì—­í•  (View â†” Reactor ì—°ê²°)

```swift
override func bind(reactor: SearchListReactor) {
    // ì‚¬ìš©ì ì…ë ¥ â†’ Action
    searchBar.rx.text.orEmpty
        .distinctUntilChanged()
        .debounce(.milliseconds(300), scheduler: MainScheduler.instance)
        .map { .search($0) }
        .bind(to: reactor.action)
        .disposed(by: disposeBag)

    // ìƒíƒœ â†’ UI
    reactor.state.map { $0.query }
        .distinctUntilChanged()
        .bind(to: searchBar.rx.text)
        .disposed(by: disposeBag)
}
```

| êµ¬ë¶„         | ì„¤ëª…                                     |
| ---------- | -------------------------------------- |
| Action ë°”ì¸ë”© | ì…ë ¥ê°’ì„ `.search(text)`ë¡œ ë³€í™˜í•˜ì—¬ Reactorì— ì „ë‹¬ |
| State ë°”ì¸ë”©  | `state.query`ë¥¼ UIì— ë°˜ì˜ (ìƒíƒœ ê¸°ë°˜ í™”ë©´ ê°±ì‹ )    |

---

## 5ï¸âƒ£ Mutationì´ ì¤‘ìš”í•œ ì´ìœ 

| ì—­í•           | ì„¤ëª…                                                          |
| ----------- | ----------------------------------------------------------- |
| ì¤‘ê°„ ìƒíƒœ ë³€í™” ë‹¨ìœ„ | Actionê³¼ State ì‚¬ì´ì˜ ëª…í™•í•œ ì¶”ìƒí™”                                   |
| ì„ ì–¸ì  íë¦„ í‘œí˜„   | `.setLoading(true) â†’ API â†’ .setResult â†’ .setLoading(false)` |
| ìœ ì§€ë³´ìˆ˜ì„± ì¦ê°€    | ìƒíƒœ ë³€ê²½ ê³¼ì •ì„ ì¶”ì í•˜ê³  ì¡°í•© ê°€ëŠ¥                                        |

---

## 6ï¸âƒ£ SceneDelegate êµ¬ì„±

```swift
let reactor = SearchListReactor()
let viewController = SearchListViewController()
viewController.reactor = reactor
window.rootViewController = viewController
```

| ì„¤ëª…                                  |
| ----------------------------------- |
| ReactorëŠ” ì™¸ë¶€ì—ì„œ ìƒì„±í•´ ì£¼ì…                |
| ViewControllerëŠ” reactorê°€ ì£¼ì…ëœ í›„ì—ë§Œ ë™ì‘ |
| ìƒì„±ì ì£¼ì… ë°©ì‹ìœ¼ë¡œ ê°œì„ í•˜ë©´ ë” ì•ˆì „í•¨              |

---

## ğŸ’¡ ì¶”ê°€ ê°œë… ì •ë¦¬

| ê°œë…                               | ì„¤ëª…                                                     |
| -------------------------------- | ------------------------------------------------------ |
| `@available(*, unavailable)`     | í•´ë‹¹ ìƒì„±ì/í•¨ìˆ˜ ì‚¬ìš©ì„ **ì»´íŒŒì¼ íƒ€ì„ì— ê¸ˆì§€**                           |
| `SearchListReactor.Action` ê°™ì€ í‘œí˜„ | **ìê¸° ìì‹ ì„ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë‚´ë¶€ íƒ€ì…ì„ ëª…ì‹œí•˜ëŠ” ê²ƒ**                   |
| `reactor.state`ëŠ” ì™œ ì‚¬ìš© ê°€ëŠ¥?        | `BaseReactor`ì—ì„œ ì´ë¯¸ `state: Observable<State>`ë¡œ êµ¬í˜„í–ˆê¸° ë•Œë¬¸ |

---

## âœ… ë‹¤ìŒ ë‹¨ê³„ ì¶”ì²œ

| í•­ëª©        | êµ¬í˜„ ë°©í–¥                                            |
| --------- | ------------------------------------------------ |
| ë¡œë”© ìƒíƒœ í‘œì‹œ  | `Mutation.setLoading`, `State.isLoading` ì¶”ê°€      |
| ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ  | `State.books`, TableView ë°”ì¸ë”©                     |
| API ìš”ì²­ ì²˜ë¦¬ | `UseCase`, `NetworkService` êµ¬ì„± í›„ Reactorì— ì£¼ì…     |
| ì—ëŸ¬ ì²˜ë¦¬     | `Mutation.setError`, `State.errorMessage` êµ¬ì¡°ë¡œ í™•ì¥ |

---

ì´ ë¬¸ì„œë¥¼ `.md` íŒŒì¼ì´ë‚˜ Notion ë¬¸ì„œë¡œ ì˜®ê²¨ë‘ê³  ê¸°ëŠ¥ êµ¬í˜„í•  ë•Œ ì˜†ì— ë‘ê³  ë³´ë©´ ë§ì€ ë„ì›€ì´ ë  ê±°ì˜ˆìš”.
ì‹ì‚¬ í›„ ì¤€ë¹„ë˜ì‹œë©´ ì–´ë–¤ ê¸°ëŠ¥ë¶€í„° êµ¬í˜„í• ì§€ ì•Œë ¤ì£¼ì„¸ìš”! ìˆœì„œì— ë§ì¶° ë‹¨ê³„ì ìœ¼ë¡œ ë„ì™€ë“œë¦´ê²Œìš”.
